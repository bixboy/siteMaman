<!DOCTYPE html>
<html lang="fr">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5QGTNVK7');</script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <title>Fauteuil - Main é merveille - Tapissier d'ameublement</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Main é Merveille a Caen, votre tapissier d'ameublement expérimenté, offre des services de restauration, rénovation et création de sièges sur mesure. Experts en tapisserie, nous redonnons vie à vos meubles anciens ou modernes, en utilisant des tissus de qualité et des techniques artisanales. Découvrez un savoir-faire traditionnel pour sublimer vos assises avec des créations uniques et personnalisées.">
    <link rel="icon" href="recources/favicon.ico" type="image/x-icon">
    
    <!-- Feuilles de style -->
    <link rel="stylesheet" href="../css/body.css">
    <link rel="stylesheet" href="../css/index-components/navbar.css">
    <link rel="stylesheet" href="../css/index-components/footer.css">
    <link rel="stylesheet" href="../css/index-components/top.css">
    <link rel="stylesheet" href="../css/contact-components/top.css">
    <link rel="stylesheet" href="../css/market-components/product.css">
    <link rel="stylesheet" href="../css/realisations-components/real.css">
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QGTNVK7"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- NAVIGATION -->
  <nav class="box_navbar">
    <a class="logo" href="index.html"> <img src="recources\favicon.ico" alt="main e merveille"> </a>

    <ul class="linksOrdi">
        <li style="margin: 0px 15px;"><a href="index.html">Home</a></li>
        <li style="margin: 0px 15px;"><a href="index.html#prestations">Mes services</a></li>
        <li style="margin: 0px 15px;"><a href="realisations.html">Réalisations</a></li>
        <li class="acti" style="margin: 0px 15px; cursor: pointer;"><a href="market.html">Vente Fauteuils</a></li>
        <li style="margin: 0px 15px;"><a href="contact\contact.html">Contact</a></li>
    </ul>

    <div class="menu" id="menu"> 
        <div class="menu-btn">
            <label for="menu-check">
            <span></span>
            <span></span>
            <span></span>
            </label>
        </div>

    </div>

    <div class="nav-links">
      <ul class="links">
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#prestations">Mes services</a></li>
          <li><a href="realisations.html">Réalisations</a></li>
          <li><a class="acti_mobil" href="market.html">Vente Fauteuils</a></li>
          <li><a href="contact\contact.html">Contact</a></li>
      </ul>

      <ul class="infs">
          <h1 class="nameNav">Entreprise Main é Merveille </h1>

          <div class="tel"> <img src="recources\tel.png" alt="tel-icon"> <a href="tel:+33768317608">Appelez-moi</a></div>

          <div class="mail"> <img src="recources\email.png" alt="mail-icon"> <a href="mailto:mainemerveille@gmail.com">mainemerveille@Gmail.com</a></div>

          <div class="media">
          <div class="icon_media_menu">
              <a href="" class="icon-box"><img src="recources\instagramWhite.png" alt="instagram" style="height: 24px;"></a>
              <a href="https://www.facebook.com/profile.php?id=61553945070512" class="icon-box"><img src="recources\facebookWhite.png" alt="facebook" style="height: 24px;"></a>
          </div>
          </div>

        </ul>
    </div>
  </nav>
  <div class="overlay"></div>

  <!-- CONTENT -->
    <div class="Product" style="display: flex; justify-content: center; flex-direction: column; padding: 10px 20vh 2vh 20vh; align-items: center;">
      <div class="product-container">

          <!-- Conteneur pour le slider des images -->
          <div class="product-image">
            <div class="slider-container">
              <div class="sliderProduct">
              </div>
              <!-- Boutons de navigation -->
              <div class="prev">&#10094;</div>
              <div class="next">&#10095;</div>
            </div>
          </div>

          <!-- Conteneur pour les détails du produit -->
          <div class="product-details">
              <div style="display: flex; align-items: center; margin-bottom: 20px; margin-top: 20px;">
                  <h1 id="product-name">Nom du Produit</h1>
                  <div class="lines" style="margin-left: 9px; border-left: solid 2px #979797; height: 75px; "></div>
                  <p class="price" id="product-state"> Statue </p>
              </div>
              <p class="description" id="product-description">Description du produit</p>
              <a class="buy-button" href="tel:+33768317608"> Contacter <img src="recources/tel.png" alt="main-e-merveille-contact"></a>
          </div>
      </div>
    </div>

    <div id="myModalIMG" class="modal">
      <span class="close">&times;</span>
      <img class="modal-content" id="image" loading="lazy">
      <div id="caption"></div>
    </div>

    <footer class="box_footer">
      <div class="content">

        <div class="links-footer">
          <ul class="list">
            <li style="padding: 5px;"><a href="legal\mentionsLegal.html" class="txt_footer"> Mentions légales</a><div class="lines"></div></li>

            <li style="padding: 5px;"><a href="legal\politiqueConf.html" class="txt_footer"> Politique de confidentialité</a> <div class="lines"></div></li>
            
            <li style="padding: 5px;"><a href="..\contact/contact.html" class="txt_footer"> Me contacter</a> <div class="lines"></div></li>

            <li style="padding: 5px;"><span class="txt_footer" style="font-size: 13px;text-decoration: unset;"> © 2023 Main é merveille</span><div class="lines"></div></li>
          </ul>

          <div class="media">
            <div class="icon_media">
              <a href="" class="icon-box"><img src="recources\instagram.png" alt="instagram" style="height: 29px;"></a>
              <a href="https://www.facebook.com/profile.php?id=61553945070512" class="icon-box"><img src="recources\facebook.png" alt="facebook" style="height: 29px;"></a>
            </div>
          </div>

        </div>

        <div class="topReturn" onclick="window.scrollTo({ top: 0, behavior: 'smooth' })">
          <img src="recources\arrow.png" alt="top">
        </div>

      </div>
    </footer>

    <!-- SCRIPT -->
    <script class="navbar">
        // Script NavBar

        document.addEventListener('DOMContentLoaded', function() {
          var navbar = document.querySelector('.box_navbar');
          var scrollDistance = -1;

          if (window.pageYOffset > scrollDistance) {
            navbar.classList.add('scrolled');
          } else {
            navbar.classList.remove('scrolled');
          }

          window.addEventListener('scroll', function() {
            if (window.pageYOffset > scrollDistance) {
              navbar.classList.add('scrolled');
            } else {
              navbar.classList.remove('scrolled');
            }
          });
        });
    </script>

    <script class="OpenProductPage">
      // Sur la page de détails du produit (product.html)
      document.addEventListener('DOMContentLoaded', function() {
          const product = JSON.parse(localStorage.getItem('product'));

          if (product) {
              document.getElementById('product-name').textContent = product.name;

              const formattedState = product.state.replaceAll('\\n', '<br>');
              document.getElementById('product-state').innerHTML = formattedState;

              const formattedDescription = product.description.replaceAll('\\n', '<br>');
              document.getElementById('product-description').innerHTML = formattedDescription;

              const slider = document.querySelector('.sliderProduct');
              product.images.forEach((image, index) => {
                  const imgElement = document.createElement('img');
                  imgElement.classList.add('ImgSlider');
                  imgElement.setAttribute('id', 'Modal-Image');
                  imgElement.src = image;
                  imgElement.alt = `${product.name} - Image ${index + 1}`;
                  slider.appendChild(imgElement);
              });
          }
      });

      document.addEventListener('DOMContentLoaded', function() {
          // Sélectionne toutes les images et les boutons de navigation
          const images = document.querySelectorAll('.ImgSlider');
          const prevButton = document.querySelector('.prev');
          const nextButton = document.querySelector('.next');

          console.log('Images trouvées:', images); // Log des images trouvées
          console.log('Boutons de navigation trouvés:', prevButton, nextButton); // Log des boutons trouvés

          // Vérifie si les images et les boutons existent
          if (images.length === 0) {
              console.error('Aucune image trouvée avec la classe .ImgSlider.');
              return;
          }
          if (!prevButton || !nextButton) {
              console.error('Les boutons de navigation ne sont pas trouvés.');
              return;
          }
        
          let currentIndex = 0;
        
          function showImage(index) {
              images.forEach((img, i) => {
                  img.classList.remove('active');
                  img.classList.remove('fade');
                  if (i === index) {
                      img.classList.add('active');
                  }
              });
              console.log('Image affichée:', index); // Log de l'image affichée
          }
        
          function nextImage() {
              currentIndex = (currentIndex + 1) % images.length;
              showImage(currentIndex);
          }
        
          function prevImage() {
              currentIndex = (currentIndex - 1 + images.length) % images.length;
              showImage(currentIndex);
          }
        
          nextButton.addEventListener('click', nextImage);
          prevButton.addEventListener('click', prevImage);
        
          // Afficher la première image au chargement
          if (images.length > 0) {
              showImage(currentIndex);
          }

          // Masquer les boutons si une seule image
          if (images.length <= 1) {
              prevButton.style.display = 'none';
              nextButton.style.display = 'none';
          }
      });
    </script>

    <script class="Menu">
        // Script Menu

        const menuToggle = document.getElementById('menu');
        const navLinks = document.querySelector(".nav-links");
        const body = document.body;

        menuToggle.addEventListener('click', (event) => {
          event.stopPropagation();
          menuToggle.classList.toggle('activeM');
          navLinks.classList.toggle('mobile-menu');

          if (navLinks.classList.contains('mobile-menu')) {
            disableScroll();
          } else {
            enableScroll();
          }
        });

        body.addEventListener('click', (event) => {
          if (!navLinks.contains(event.target)) {
            menuToggle.classList.remove('activeM');
            navLinks.classList.remove('mobile-menu');
            enableScroll();
          }
        });

        function disableScroll() {
          document.body.classList.add('no-scroll');
        }

        function enableScroll() {
          document.body.classList.remove('no-scroll');
        }
      </script>

      <script class="modal">
          document.addEventListener('DOMContentLoaded', function() {
              // Sélectionne toutes les images qui ouvrent le modal
              const modalImages = document.querySelectorAll('#Modal-Image');
              const modal = document.getElementById('myModalIMG');
              const modalImg = document.getElementById('image');
              const closeBtn = document.querySelector('.close');
                    
              modalImages.forEach(image => {
                  image.addEventListener('click', function() {
                      modal.style.display = 'block'; // Affiche le modal
                      document.body.style.overflow = 'hidden'; // Désactive le défilement de la page
                  
                      // Met à jour l'image du modal avec l'image cliquée
                      modalImg.src = this.src;
                  });
              });
            
              // Fonction pour fermer le modal
              function closeModal() {
                  modal.style.display = 'none'; // Cache le modal
                  document.body.style.overflow = ''; // Réactive le défilement de la page
              }
            
              // Écouteur d'événement pour le bouton de fermeture
              closeBtn.addEventListener('click', closeModal);
            
              // Ferme le modal si l'utilisateur clique en dehors de l'image
              window.addEventListener('click', function(event) {
                  if (event.target === modal) {
                      closeModal();
                  }
              });
          });
      </script>

      <script>
        function scrollTop() {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        }
      </script>
</body>
</html>